{% extends 'base.html' %} {% block title %}Edit {{ app.name }}{% endblock %} {%
block content %}
<div class="row justify-content-center">
	<div class="col-md-8">
		<div class="card">
			<div class="card-header">
				<h4 class="mb-0">Edit App: {{ app.name }}</h4>
			</div>
			<div class="card-body">
				<form method="post" enctype="multipart/form-data">
					<div class="row mb-3">
						<div class="col-md-3 text-center">
							<div class="mb-3">
								<img
									src="{{ app.icon }}"
									alt="App Icon"
									class="img-thumbnail"
									style="width: 128px; height: 128px"
								/>
							</div>
							<div class="mb-3">
								<label for="icon" class="form-label"
									>Update Icon</label
								>
								<input
									type="file"
									class="form-control"
									id="icon"
									name="icon"
									accept="image/*"
								/>
								<div class="form-text">
									Recommended size: 128x128 pixels
								</div>
							</div>
						</div>
						<div class="col-md-9">
							<div class="mb-3">
								<label for="name" class="form-label"
									>App Name</label
								>
								<input
									type="text"
									class="form-control"
									id="name"
									name="name"
									value="{{ app.name }}"
									required
								/>
							</div>
							<div class="mb-3">
								<label for="version" class="form-label"
									>Version</label
								>
								<input
									type="text"
									class="form-control"
									id="version"
									name="version"
									value="{{ app.version }}"
									required
								/>
								<div class="form-text">
									Use Semantic Versioning (e.g., 1.0.0)
								</div>
							</div>
							<div class="mb-3">
								<label class="form-label">App ID</label>
								<input
									type="text"
									class="form-control"
									value="{{ app.id }}"
									readonly
									disabled
								/>
								<div class="form-text">
									App ID cannot be changed
								</div>
							</div>
							<div class="mb-3">
								<label class="form-label">Upload Date</label>
								<input
									type="text"
									class="form-control"
									value="{% if app.upload_date %} {{
										app.upload_date.split('T')[0] }} {% elif
										app.creation_date %} {{ app.creation_date.split('T')[0]
										}} {% else %} Unknown {% endif %}"
									readonly
									disabled
								/>
							</div>
						</div>
					</div>

					<div class="d-flex justify-content-between">
						<a
							href="{{ url_for('app_detail', app_id=app.id) }}"
							class="btn btn-secondary"
							>Cancel</a
						>
						<button type="submit" class="btn btn-primary">
							Save Changes
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
{% endblock %}
