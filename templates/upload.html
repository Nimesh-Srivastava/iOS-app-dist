{% extends 'base.html' %} {% block title %}Upload New App - AppCenter{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-10 col-lg-8">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h1 class="fw-bold mb-1">Upload New App</h1>
        <p class="text-muted">
          Add a new iOS application to AppCenter
        </p>
      </div>
      <a href="{{ url_for('app.index') }}" class="btn btn-outline-secondary">
        <i class="fas fa-arrow-left me-2"></i>Back to Apps
      </a>
    </div>

    <div class="card border-0 shadow-sm mb-4">
      <div class="card-header bg-white py-3">
        <h5 class="mb-0"><i class="fas fa-plus-circle me-2"></i>New App Details</h5>
      </div>
      <div class="card-body p-4">
        <form
          action="{{ url_for('app.upload') }}"
          method="post"
          enctype="multipart/form-data"
        >
          <div class="mb-3">
            <label for="app_name" class="form-label">App Name</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-mobile-alt"></i
              ></span>
              <input
                type="text"
                class="form-control"
                id="app_name"
                name="app_name"
                required
              />
            </div>
            <div class="form-text">
              The display name of your application
            </div>
          </div>

          <div class="mb-3">
            <label for="bundle_id" class="form-label"
              >Bundle Identifier</label
            >
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-fingerprint"></i
              ></span>
              <input
                type="text"
                class="form-control"
                id="bundle_id"
                name="bundle_id"
                placeholder="com.company.appname"
              />
            </div>
            <div class="form-text">
              Optional, will be extracted from IPA if not provided
            </div>
          </div>

          <div class="mb-3">
            <label for="app_version" class="form-label">App Version</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-code-branch"></i
              ></span>
              <input
                type="text"
                class="form-control"
                id="app_version"
                name="app_version"
                placeholder="1.0.0"
              />
            </div>
            <div class="form-text">
              Optional, will be extracted from IPA if not provided
            </div>
          </div>

          <div class="mb-3">
            <label for="app_description" class="form-label">App Description</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-align-left"></i
              ></span>
              <textarea
                class="form-control"
                id="app_description"
                name="app_description"
                rows="2"
                maxlength="200"
                placeholder="Brief description of the app"
              ></textarea>
            </div>
            <div class="form-text">
              A short description of the app (max 2 lines)
            </div>
          </div>

          <div class="mb-3">
            <label for="release_notes" class="form-label">Release Notes</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-clipboard-list"></i
              ></span>
              <textarea
                class="form-control"
                id="release_notes"
                name="release_notes"
                rows="4"
                placeholder="What's new in this version?"
                required
              ></textarea>
            </div>
            <div class="form-text">
              Describe the changes, new features, or fixes in this version
            </div>
          </div>

          <div class="mb-4">
            <label for="file" class="form-label">IPA File</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fas fa-file-upload"></i
              ></span>
              <input
                type="file"
                class="form-control"
                id="file"
                name="file"
                required
                accept=".ipa"
              />
            </div>
            <div class="form-text">
              Select the iOS application (.ipa) file to upload
            </div>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-cloud-upload-alt me-2"></i>Upload New App
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="card border-0 shadow-sm">
      <div class="card-header bg-white py-3">
        <h5 class="mb-0">
          <i class="fas fa-info-circle me-2"></i>About IPA Files
        </h5>
      </div>
      <div class="card-body p-4">
        <p class="mb-0">
          IPA (iOS App Store Package) files are the packaged applications used
          by iOS devices. You can generate an IPA file from Xcode by archiving
          your application and exporting it for development distribution.
        </p>

        <div class="alert alert-secondary mt-3 mb-0">
          <h6 class="fw-bold"><i class="fas fa-lightbulb me-2"></i>Pro Tip</h6>
          <p class="mb-2">
            For automated builds, consider using the
            <a href="{{ url_for('build.github_build') }}" class="fw-semibold"
              >GitHub Build</a
            >
            feature instead.
          </p>
          <p class="mb-0 small text-muted">
            This allows you to build directly from your source code repository
            without manually exporting from Xcode.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
